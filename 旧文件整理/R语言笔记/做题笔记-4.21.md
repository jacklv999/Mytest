# R语言练习笔记

1.关于打开DTA文件
DTA文件使用函数 **read.dta()** 打开，该函数需要首先加载 **"foreign包"**

2.对于数据帧对象的数据提取
- 1.以切片方式提取：data_col = dat[,N_1:N_2];data_row = dat[N_1:N_2,]
- 2.以列名称提取:dat.new = data.frame[dat$col_name]

3.使用Apply函数进行运算：对数据帧的运算一般使用 **apply（）函数** ，不直接使用函数运算
~~~
#求平均值
mean_a = apply(a,2,mean)    # "1"表示对行进行运算, "2"表示对列进行运算
#求最值
max_a = apply(a,2,max)
min_a = apply(a,2,min)
~~~

4.直接使用函数运算：max(a$col_name)

5.R语言的常用函数
- MAX函数，求最大值
- MIN函数，求最小值
- Mean函数，求平均值
- Median函数，求中位数
- var函数,求方差
- sd函数,求标准差

6.按条件取子集
- 使用 **subset()函数**
~~~
data_sub = subset(data,formula，select)
#formula，表示用于选取的条件式
#select，指最后展示的数据的 col_name
~~~

- 使用 **which()方法** :  new.dt = dt[which(dt$'col_name' == 'Value you need'),'col_name you needed')]

7.查看 **dataframe对象** 的属性
使用 **str()函数**，展示目标对象的内部结构，用法：str(object)

8.dataframe的数据运算
- 对数据型: dataframe支持直接运算和直接赋值, 如:dat$col_name = dat$col_name + 1
- 对非数据型: dataframe支持修改数据类型后赋值, 如 dat$col_name <- as.Date(dat$col_name)

9.关于错误"类别为'closure'的对象不可以取子集"
疑是对象为vector等不可取子集的对象，暂未解决