# 练习笔记 5.22

#### 1.空间计量函数

- 1.cell2nb函数
  - 代码:  `wnb = cell2nb(row_num,col_num)` 
  - 作用:  生成 n行m列的网格并转化为临近集(nb)
- 2.nb2listw函数
  - 代码:  `w = nb2listw(wnb)` 
  - 作用:  转化临近集为权重矩阵
- 3.获取变量X的空间滞后变量
  - 代码:  `wx = lag.listw(w,x)` 

#### 2.从外部文件读取矩阵

- 1.导入shapefiles:  `chn = readShapePoly("CHN_adm0")` 
- 2.画出shapefiles边界:  `polt(chn)` 
- 3.识别地区中心:  `coordinates(chn)` 

#### 3.计算莫兰I统计量

- 1.函数:  lm.morantest(model_name,W)
- 2.注释:  W为空间权重矩阵

